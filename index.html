<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knowing Our Numbers - Class 6 NCERT Mathematics</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Custom styles for the learning module */
        .checkpoint {
            transition: all 0.3s ease;
            border-left: 4px solid #3b82f6;
        }
        
        .checkpoint.active {
            background-color: #eff6ff;
            border-left: 4px solid #1d4ed8;
        }
        
        .checkpoint.completed {
            border-left: 4px solid #10b981;
        }
        
        .game-area {
            min-height: 300px;
            background-color: #f8fafc;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }
        
        .digit {
            cursor: grab;
            transition: transform 0.2s;
            user-select: none;
        }
        
        .digit:active {
            cursor: grabbing;
        }
        
        .number-slot {
            min-height: 60px;
            border: 2px dashed #cbd5e1;
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        .number-slot.highlight {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
        
        .comparison-symbol {
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .comparison-symbol:hover {
            transform: scale(1.1);
        }
        
        .comparison-symbol.selected {
            background-color: #3b82f6;
            color: white;
        }
        
        .place-value-table td {
            border: 1px solid #cbd5e1;
            padding: 8px;
            text-align: center;
        }
        
        .place-value-table td.active {
            background-color: #dbeafe;
        }
        
        .operation-btn {
            transition: all 0.2s;
        }
        
        .operation-btn:hover {
            transform: scale(1.05);
        }
        
        .operation-btn.selected {
            background-color: #3b82f6;
            color: white;
        }
        
        .progress-bar {
            height: 6px;
            background-color: #e2e8f0;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background-color: #10b981;
            transition: width 0.5s ease;
        }
        
        /* Animation for correct/incorrect answers */
        @keyframes correct {
            0% { background-color: #ffffff; }
            50% { background-color: #d1fae5; }
            100% { background-color: #ffffff; }
        }
        
        @keyframes incorrect {
            0% { background-color: #ffffff; }
            50% { background-color: #fee2e2; }
            100% { background-color: #ffffff; }
        }
        
        .correct {
            animation: correct 1s;
        }
        
        .incorrect {
            animation: incorrect 1s;
        }
        
        .quiz-option.correct-answer {
            background-color: #d1fae5;
            border: 2px solid #10b981;
        }
        
        .quiz-option.incorrect-answer {
            background-color: #fee2e2;
            border: 2px solid #ef4444;
        }
        
        .quiz-result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
        }
        
        .quiz-result.correct {
            background-color: #d1fae5;
            color: #065f46;
        }
        
        .quiz-result.incorrect {
            background-color: #fee2e2;
            color: #991b1b;
        }
        
        .calculation-steps {
            background-color: #f3f4f6;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            font-family: monospace;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold text-blue-800">Knowing Our Numbers</h1>
                <p class="text-gray-600">Class 6 NCERT Mathematics</p>
            </div>
            <div class="flex items-center space-x-4">
                <div class="text-sm text-gray-600">
                    <span id="progress-text">0% Complete</span>
                </div>
                <div class="w-32 progress-bar">
                    <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
                </div>
                <button id="sound-toggle" class="p-2 rounded-full bg-gray-100 hover:bg-gray-200">
                    <i class="fas fa-volume-up text-blue-600"></i>
                </button>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-4 py-8 flex flex-col lg:flex-row">
        <!-- Navigation Sidebar -->
        <div class="lg:w-1/4 mb-8 lg:mb-0 lg:pr-8">
            <div class="bg-white rounded-lg shadow-sm p-4 sticky top-4">
                <h2 class="text-lg font-semibold text-gray-800 mb-4">Learning Checkpoints</h2>
                <div class="space-y-2">
                    <div class="checkpoint active p-3 rounded cursor-pointer" data-section="0">
                        <div class="flex items-center">
                            <span class="w-6 h-6 rounded-full bg-blue-100 text-blue-800 flex items-center justify-center text-sm mr-2">1</span>
                            <span class="font-medium">Comparing Numbers</span>
                        </div>
                    </div>
                    <div class="checkpoint p-3 rounded cursor-pointer" data-section="1">
                        <div class="flex items-center">
                            <span class="w-6 h-6 rounded-full bg-gray-100 text-gray-800 flex items-center justify-center text-sm mr-2">2</span>
                            <span class="font-medium">Digit Builder Game</span>
                        </div>
                    </div>
                    <div class="checkpoint p-3 rounded cursor-pointer" data-section="2">
                        <div class="flex items-center">
                            <span class="w-6 h-6 rounded-full bg-gray-100 text-gray-800 flex items-center justify-center text-sm mr-2">3</span>
                            <span class="font-medium">Place Value Explorer</span>
                        </div>
                    </div>
                    <div class="checkpoint p-3 rounded cursor-pointer" data-section="3">
                        <div class="flex items-center">
                            <span class="w-6 h-6 rounded-full bg-gray-100 text-gray-800 flex items-center justify-center text-sm mr-2">4</span>
                            <span class="font-medium">Estimation Rounder</span>
                        </div>
                    </div>
                    <div class="checkpoint p-3 rounded cursor-pointer" data-section="4">
                        <div class="flex items-center">
                            <span class="w-6 h-6 rounded-full bg-gray-100 text-gray-800 flex items-center justify-center text-sm mr-2">5</span>
                            <span class="font-medium">Real Life Numbers</span>
                        </div>
                    </div>
                    <div class="checkpoint p-3 rounded cursor-pointer" data-section="5">
                        <div class="flex items-center">
                            <span class="w-6 h-6 rounded-full bg-gray-100 text-gray-800 flex items-center justify-center text-sm mr-2">6</span>
                            <span class="font-medium">Operation Machine</span>
                        </div>
                    </div>
                    <div class="checkpoint p-3 rounded cursor-pointer" data-section="6">
                        <div class="flex items-center">
                            <span class="w-6 h-6 rounded-full bg-gray-100 text-gray-800 flex items-center justify-center text-sm mr-2">7</span>
                            <span class="font-medium">Chapter Quiz</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="lg:w-3/4">
            <!-- Section 1: Comparing Numbers -->
            <section id="section-0" class="mb-12 bg-white rounded-lg shadow-sm p-6">
                <h2 class="text-2xl font-bold text-blue-800 mb-4">1. Comparing Numbers</h2>
                <p class="text-gray-700 mb-6">Numbers can be compared using the symbols > (greater than), < (less than), or = (equal to). The symbol always points to the smaller number.</p>
                
                <div class="game-area p-6 mb-6">
                    <h3 class="text-lg font-semibold mb-4">Number Comparison Game</h3>
                    <div class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-8 mb-6">
                        <div class="text-4xl font-bold bg-blue-100 p-4 rounded-lg w-32 text-center" id="compare-num1">348</div>
                        <div class="flex space-x-4" id="comparison-symbols">
                            <div class="comparison-symbol text-3xl font-bold bg-gray-100 p-3 rounded-lg w-16 text-center" data-symbol=">">></div>
                            <div class="comparison-symbol text-3xl font-bold bg-gray-100 p-3 rounded-lg w-16 text-center" data-symbol="<"><</div>
                            <div class="comparison-symbol text-3xl font-bold bg-gray-100 p-3 rounded-lg w-16 text-center" data-symbol="=">=</div>
                        </div>
                        <div class="text-4xl font-bold bg-blue-100 p-4 rounded-lg w-32 text-center" id="compare-num2">432</div>
                    </div>
                    <div class="text-center">
                        <button id="check-comparison" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Check Answer</button>
                        <button id="new-comparison" class="bg-gray-200 text-gray-800 px-6 py-2 rounded-lg hover:bg-gray-300 transition ml-2">New Numbers</button>
                    </div>
                    <div id="comparison-feedback" class="mt-4 text-center font-semibold"></div>
                </div>
                
                <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                    <h4 class="font-semibold text-green-800 mb-2">Quick Tip</h4>
                    <p class="text-green-700">When comparing numbers, start from the leftmost digit. The number with the larger digit in the same place value is greater.</p>
                </div>
            </section>

            <!-- Section 2: Digit Builder Game -->
            <section id="section-1" class="mb-12 bg-white rounded-lg shadow-sm p-6 hidden">
                <h2 class="text-2xl font-bold text-blue-800 mb-4">2. Digit Builder Game</h2>
                <p class="text-gray-700 mb-6">Arrange the given digits to form the largest or smallest possible number. Remember, the leftmost digit cannot be zero.</p>
                
                <div class="game-area p-6 mb-6">
                    <h3 class="text-lg font-semibold mb-4">Build the Number</h3>
                    <div class="flex justify-between mb-6">
                        <button id="build-largest" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">Largest Number</button>
                        <button id="build-smallest" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">Smallest Number</button>
                    </div>
                    
                    <div class="mb-6">
                        <p class="text-center mb-2">Given digits: <span id="given-digits" class="font-bold text-lg">7, 2, 9, 5, 1</span></p>
                        <div class="flex justify-center space-x-4 mb-4" id="digit-container">
                            <!-- Digits will be generated here -->
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <p class="text-center mb-2">Your number:</p>
                        <div class="number-slot flex justify-center items-center mb-4" id="number-slot">
                            <!-- Digits will be placed here -->
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <button id="check-number" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Check Answer</button>
                        <button id="reset-digits" class="bg-gray-200 text-gray-800 px-6 py-2 rounded-lg hover:bg-gray-300 transition ml-2">Reset</button>
                    </div>
                    <div id="number-feedback" class="mt-4 text-center font-semibold"></div>
                </div>
            </section>

            <!-- Section 3: Place Value Explorer -->
            <section id="section-2" class="mb-12 bg-white rounded-lg shadow-sm p-6 hidden">
                <h2 class="text-2xl font-bold text-blue-800 mb-4">3. Place Value Explorer</h2>
                <p class="text-gray-700 mb-6">Every digit in a number has a place value based on its position. The Indian and International systems have different place value names.</p>
                
                <div class="game-area p-6 mb-6">
                    <h3 class="text-lg font-semibold mb-4">Explore Place Values</h3>
                    
                    <div class="flex justify-center mb-6">
                        <div class="bg-blue-100 p-4 rounded-lg">
                            <p class="text-center text-3xl font-bold" id="explore-number">56,78,903</p>
                        </div>
                    </div>
                    
                    <div class="flex justify-center space-x-4 mb-6">
                        <button id="indian-system" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">Indian System</button>
                        <button id="international-system" class="bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition">International System</button>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="place-value-table w-full mb-4">
                            <thead>
                                <tr id="place-value-headers">
                                    <!-- Headers will be generated here -->
                                </tr>
                            </thead>
                            <tbody>
                                <tr id="place-value-digits">
                                    <!-- Digits will be generated here -->
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="text-center mt-4">
                        <button id="new-place-value" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">New Number</button>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                        <h4 class="font-semibold text-blue-800 mb-2">Indian System</h4>
                        <p class="text-blue-700">Units, Tens, Hundreds, Thousands, Ten Thousands, Lakhs, Ten Lakhs, Crores, Ten Crores</p>
                    </div>
                    <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                        <h4 class="font-semibold text-green-800 mb-2">International System</h4>
                        <p class="text-green-700">Ones, Tens, Hundreds, Thousands, Ten Thousands, Hundred Thousands, Millions, Ten Millions, Hundred Millions</p>
                    </div>
                </div>
            </section>

            <!-- Section 4: Estimation Rounder -->
            <section id="section-3" class="mb-12 bg-white rounded-lg shadow-sm p-6 hidden">
                <h2 class="text-2xl font-bold text-blue-800 mb-4">4. Estimation Rounder</h2>
                <p class="text-gray-700 mb-6">Estimation helps us work with numbers more easily. We round numbers to the nearest 10, 100, or 1000 based on the digit to the right of the rounding place.</p>
                
                <div class="game-area p-6 mb-6">
                    <h3 class="text-lg font-semibold mb-4">Round the Number</h3>
                    
                    <div class="flex justify-center mb-6">
                        <div class="bg-blue-100 p-4 rounded-lg">
                            <p class="text-center text-3xl font-bold" id="round-number">48,739</p>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <p class="text-center mb-2">Round to the nearest:</p>
                        <div class="flex justify-center space-x-4">
                            <button class="rounding-option bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition" data-round="10">10</button>
                            <button class="rounding-option bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition" data-round="100">100</button>
                            <button class="rounding-option bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition" data-round="1000">1000</button>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <p class="text-center mb-2">Rounded value:</p>
                        <div class="flex justify-center">
                            <div class="bg-green-100 p-4 rounded-lg w-48 text-center">
                                <p class="text-2xl font-bold" id="rounded-value">-</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <button id="new-rounding" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">New Number</button>
                    </div>
                </div>
                
                <div class="bg-yellow-50 p-4 rounded-lg border border-yellow-200">
                    <h4 class="font-semibold text-yellow-800 mb-2">Rounding Rules</h4>
                    <p class="text-yellow-700">If the digit to the right is 5 or greater, round up. If it's less than 5, round down.</p>
                </div>
            </section>

            <!-- Section 5: Real Life Numbers -->
            <section id="section-4" class="mb-12 bg-white rounded-lg shadow-sm p-6 hidden">
                <h2 class="text-2xl font-bold text-blue-800 mb-4">5. Real Life Numbers</h2>
                <p class="text-gray-700 mb-6">Large numbers are used in everyday life to represent populations, distances, money, and more. Understanding these numbers helps us make sense of the world.</p>
                
                <div class="game-area p-6 mb-6">
                    <h3 class="text-lg font-semibold mb-4" id="real-life-question">Which has a larger population?</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                            <h4 class="font-semibold text-blue-800 mb-2" id="real-life-item1">Population of Mumbai</h4>
                            <p class="text-2xl font-bold text-center" id="real-life-num1">2,14,00,000</p>
                            <p class="text-center text-sm text-gray-600" id="real-life-unit1">people</p>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                            <h4 class="font-semibold text-green-800 mb-2" id="real-life-item2">Population of Delhi</h4>
                            <p class="text-2xl font-bold text-center" id="real-life-num2">1,90,00,000</p>
                            <p class="text-center text-sm text-gray-600" id="real-life-unit2">people</p>
                        </div>
                    </div>
                    
                    <div class="text-center mb-4">
                        <p class="font-semibold">Which is larger?</p>
                    </div>
                    
                    <div class="flex justify-center space-x-4 mb-6">
                        <button class="real-life-option bg-gray-200 text-gray-800 px-6 py-2 rounded-lg hover:bg-gray-300 transition" data-option="1">First Option</button>
                        <button class="real-life-option bg-gray-200 text-gray-800 px-6 py-2 rounded-lg hover:bg-gray-300 transition" data-option="2">Second Option</button>
                    </div>
                    
                    <div class="text-center">
                        <button id="check-real-life" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Check Answer</button>
                        <button id="new-real-life" class="bg-gray-200 text-gray-800 px-6 py-2 rounded-lg hover:bg-gray-300 transition ml-2">New Comparison</button>
                    </div>
                    <div id="real-life-feedback" class="mt-4 text-center font-semibold"></div>
                </div>
                
                <div class="bg-purple-50 p-4 rounded-lg border border-purple-200">
                    <h4 class="font-semibold text-purple-800 mb-2">Did You Know?</h4>
                    <p class="text-purple-700">India's population is over 1.3 billion people. That's more than the entire population of North America and South America combined!</p>
                </div>
            </section>

            <!-- Section 6: Operation Machine -->
            <section id="section-5" class="mb-12 bg-white rounded-lg shadow-sm p-6 hidden">
                <h2 class="text-2xl font-bold text-blue-800 mb-4">6. Operation Machine</h2>
                <p class="text-gray-700 mb-6">Perform basic operations (addition, subtraction, multiplication, division) with large numbers. Remember to align numbers correctly by place value.</p>
                
                <div class="game-area p-6 mb-6">
                    <h3 class="text-lg font-semibold mb-4">Calculate the Result</h3>
                    
                    <div class="bg-gray-100 p-6 rounded-lg mb-6">
                        <div class="flex justify-center space-x-4 mb-6">
                            <input type="number" id="operand1" class="w-32 p-2 border rounded text-center text-xl" value="2456">
                            <div id="operation-symbol" class="text-3xl font-bold w-16 text-center">+</div>
                            <input type="number" id="operand2" class="w-32 p-2 border rounded text-center text-xl" value="3789">
                            <div class="text-3xl font-bold w-16 text-center">=</div>
                            <div class="w-32 p-2 border rounded text-center text-xl bg-white" id="operation-result">?</div>
                        </div>
                        
                        <div class="flex justify-center space-x-4 mb-4">
                            <button class="operation-btn bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition" data-operation="+">+ Add</button>
                            <button class="operation-btn bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition" data-operation="-">- Subtract</button>
                            <button class="operation-btn bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition" data-operation="×">× Multiply</button>
                            <button class="operation-btn bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition" data-operation="÷">÷ Divide</button>
                        </div>
                    </div>
                    
                    <div id="calculation-steps" class="calculation-steps hidden">
                        <p class="font-semibold mb-2">Calculation Steps:</p>
                        <div id="steps-content"></div>
                    </div>
                    
                    <div class="text-center">
                        <button id="calculate-operation" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Calculate</button>
                        <button id="new-operation" class="bg-gray-200 text-gray-800 px-6 py-2 rounded-lg hover:bg-gray-300 transition ml-2">New Numbers</button>
                    </div>
                    <div id="operation-feedback" class="mt-4 text-center font-semibold"></div>
                </div>
                
                <div class="bg-red-50 p-4 rounded-lg border border-red-200">
                    <h4 class="font-semibold text-red-800 mb-2">Remember</h4>
                    <p class="text-red-700">When adding or subtracting, align the numbers by their place values. For multiplication and division, pay attention to the number of digits in the result.</p>
                </div>
            </section>

            <!-- Section 7: Chapter Quiz -->
            <section id="section-6" class="mb-12 bg-white rounded-lg shadow-sm p-6 hidden">
                <h2 class="text-2xl font-bold text-blue-800 mb-4">7. Chapter Quiz</h2>
                <p class="text-gray-700 mb-6">Test your understanding of the concepts covered in this chapter. Answer all questions to complete the module.</p>
                
                <div class="game-area p-6 mb-6">
                    <h3 class="text-lg font-semibold mb-4">Quiz Time!</h3>
                    
                    <div id="quiz-container">
                        <div class="mb-6">
                            <p class="font-semibold mb-2">1. Which symbol correctly compares 5,432 and 5,423?</p>
                            <div class="flex space-x-4">
                                <button class="quiz-option bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition" data-option="A">5,432 > 5,423</button>
                                <button class="quiz-option bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition" data-option="B">5,432 < 5,423</button>
                                <button class="quiz-option bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition" data-option="C">5,432 = 5,423</button>
                            </div>
                            <div id="quiz-result-1" class="quiz-result mt-2 hidden"></div>
                        </div>
                        
                        <div class="mb-6">
                            <p class="font-semibold mb-2">2. What is the largest number you can form using digits 3, 7, 0, 9 without repetition?</p>
                            <div class="flex space-x-4">
                                <button class="quiz-option bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition" data-option="A">9,730</button>
                                <button class="quiz-option bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition" data-option="B">9,073</button>
                                <button class="quiz-option bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition" data-option="C">9,703</button>
                            </div>
                            <div id="quiz-result-2" class="quiz-result mt-2 hidden"></div>
                        </div>
                        
                        <div class="mb-6">
                            <p class="font-semibold mb-2">3. In the number 78,45,632, what is the place value of 4?</p>
                            <div class="flex space-x-4">
                                <button class="quiz-option bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition" data-option="A">Ten Thousands</button>
                                <button class="quiz-option bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition" data-option="B">Lakhs</button>
                                <button class="quiz-option bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition" data-option="C">Thousands</button>
                            </div>
                            <div id="quiz-result-3" class="quiz-result mt-2 hidden"></div>
                        </div>
                        
                        <div class="mb-6">
                            <p class="font-semibold mb-2">4. Round 6,487 to the nearest hundred.</p>
                            <div class="flex space-x-4">
                                <button class="quiz-option bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition" data-option="A">6,400</button>
                                <button class="quiz-option bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition" data-option="B">6,500</button>
                                <button class="quiz-option bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition" data-option="C">6,000</button>
                            </div>
                            <div id="quiz-result-4" class="quiz-result mt-2 hidden"></div>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <button id="submit-quiz" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">Submit Quiz</button>
                        <button id="reset-quiz" class="bg-gray-200 text-gray-800 px-6 py-2 rounded-lg hover:bg-gray-300 transition ml-2">Try Again</button>
                    </div>
                    <div id="quiz-feedback" class="mt-4 text-center font-semibold"></div>
                </div>
            </section>

            <!-- Navigation Buttons -->
            <div class="flex justify-between mt-8">
                <button id="prev-section" class="bg-gray-200 text-gray-800 px-6 py-2 rounded-lg hover:bg-gray-300 transition hidden">
                    <i class="fas fa-arrow-left mr-2"></i> Previous Topic
                </button>
                <button id="next-section" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">
                    Next Topic <i class="fas fa-arrow-right ml-2"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Audio elements for sound effects -->
    <audio id="success-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3" preload="auto"></audio>
    <audio id="failure-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3" preload="auto"></audio>
    <audio id="drag-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3" preload="auto"></audio>
    <audio id="snap-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-click-button-1109.mp3" preload="auto"></audio>
    <audio id="machine-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-sci-fi-interface-select-3610.mp3" preload="auto"></audio>
    <audio id="applause-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-audience-light-applause-354.mp3" preload="auto"></audio>

    <script>
        // Global variables
        let currentSection = 0;
        let totalSections = 7;
        let soundEnabled = true;
        let completedSections = new Set();

        // DOM elements
        const checkpoints = document.querySelectorAll('.checkpoint');
        const sections = document.querySelectorAll('section');
        const prevButton = document.getElementById('prev-section');
        const nextButton = document.getElementById('next-section');
        const progressFill = document.getElementById('progress-fill');
        const progressText = document.getElementById('progress-text');
        const soundToggle = document.getElementById('sound-toggle');

        // Sound elements
        const successSound = document.getElementById('success-sound');
        const failureSound = document.getElementById('failure-sound');
        const dragSound = document.getElementById('drag-sound');
        const snapSound = document.getElementById('snap-sound');
        const machineSound = document.getElementById('machine-sound');
        const applauseSound = document.getElementById('applause-sound');

        // Section titles for navigation
        const sectionTitles = [
            "Comparing Numbers",
            "Digit Builder Game",
            "Place Value Explorer",
            "Estimation Rounder",
            "Real Life Numbers",
            "Operation Machine",
            "Chapter Quiz"
        ];

        // Initialize the module
        document.addEventListener('DOMContentLoaded', function() {
            initializeSection0();
            initializeSection1();
            initializeSection2();
            initializeSection3();
            initializeSection4();
            initializeSection5();
            initializeSection6();
            
            updateProgress();
            
            // Navigation event listeners
            prevButton.addEventListener('click', goToPreviousSection);
            nextButton.addEventListener('click', goToNextSection);
            
            // Checkpoint navigation
            checkpoints.forEach(checkpoint => {
                checkpoint.addEventListener('click', function() {
                    const sectionIndex = parseInt(this.getAttribute('data-section'));
                    goToSection(sectionIndex);
                });
            });
            
            // Sound toggle
            soundToggle.addEventListener('click', function() {
                soundEnabled = !soundEnabled;
                const icon = this.querySelector('i');
                if (soundEnabled) {
                    icon.className = 'fas fa-volume-up text-blue-600';
                } else {
                    icon.className = 'fas fa-volume-mute text-gray-600';
                }
            });
        });

        // Navigation functions
        function goToSection(sectionIndex) {
            // Hide current section
            sections[currentSection].classList.add('hidden');
            checkpoints[currentSection].classList.remove('active');
            
            // Show new section
            sections[sectionIndex].classList.remove('hidden');
            checkpoints[sectionIndex].classList.add('active');
            
            // Update current section
            currentSection = sectionIndex;
            
            // Update navigation buttons
            if (currentSection === 0) {
                prevButton.classList.add('hidden');
            } else {
                prevButton.classList.remove('hidden');
                prevButton.innerHTML = `<i class="fas fa-arrow-left mr-2"></i> ${sectionTitles[currentSection-1]}`;
            }
            
            if (currentSection === totalSections - 1) {
                nextButton.innerHTML = 'Finish';
            } else {
                nextButton.innerHTML = `${sectionTitles[currentSection+1]} <i class="fas fa-arrow-right ml-2"></i>`;
            }
            
            // Scroll to top of section
            sections[sectionIndex].scrollIntoView({ behavior: 'smooth' });
        }

        function goToPreviousSection() {
            if (currentSection > 0) {
                goToSection(currentSection - 1);
            }
        }

        function goToNextSection() {
            if (currentSection < totalSections - 1) {
                goToSection(currentSection + 1);
            } else {
                // Module completion
                alert('Congratulations! You have completed the "Knowing Our Numbers" module.');
                if (soundEnabled) applauseSound.play();
            }
        }

        function updateProgress() {
            const progress = (completedSections.size / totalSections) * 100;
            progressFill.style.width = `${progress}%`;
            progressText.textContent = `${Math.round(progress)}% Complete`;
            
            // Update checkpoint completion status
            checkpoints.forEach((checkpoint, index) => {
                if (completedSections.has(index)) {
                    checkpoint.classList.add('completed');
                } else {
                    checkpoint.classList.remove('completed');
                }
            });
        }

        // Sound functions
        function playSound(sound) {
            if (soundEnabled) {
                sound.currentTime = 0;
                sound.play().catch(e => console.log("Audio play failed:", e));
            }
        }

        // Section 1: Comparing Numbers
        function initializeSection0() {
            const num1Element = document.getElementById('compare-num1');
            const num2Element = document.getElementById('compare-num2');
            const symbols = document.querySelectorAll('.comparison-symbol');
            const checkButton = document.getElementById('check-comparison');
            const newButton = document.getElementById('new-comparison');
            const feedback = document.getElementById('comparison-feedback');
            
            let selectedSymbol = null;
            let num1, num2;
            
            // Initialize numbers
            generateComparisonNumbers();
            
            // Symbol selection
            symbols.forEach(symbol => {
                symbol.addEventListener('click', function() {
                    symbols.forEach(s => s.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedSymbol = this.getAttribute('data-symbol');
                    playSound(dragSound);
                });
            });
            
            // Check answer
            checkButton.addEventListener('click', function() {
                if (!selectedSymbol) {
                    feedback.textContent = 'Please select a comparison symbol.';
                    feedback.className = 'text-red-600';
                    return;
                }
                
                let correct = false;
                if (selectedSymbol === '>' && num1 > num2) correct = true;
                else if (selectedSymbol === '<' && num1 < num2) correct = true;
                else if (selectedSymbol === '=' && num1 === num2) correct = true;
                
                if (correct) {
                    feedback.textContent = 'Correct! Well done.';
                    feedback.className = 'text-green-600';
                    playSound(successSound);
                    completedSections.add(0);
                    updateProgress();
                } else {
                    feedback.textContent = 'Incorrect. Try again!';
                    feedback.className = 'text-red-600';
                    playSound(failureSound);
                }
            });
            
            // New numbers
            newButton.addEventListener('click', function() {
                generateComparisonNumbers();
                symbols.forEach(s => s.classList.remove('selected'));
                selectedSymbol = null;
                feedback.textContent = '';
                playSound(dragSound);
            });
            
            function generateComparisonNumbers() {
                // Generate two random numbers between 100 and 9999
                num1 = Math.floor(Math.random() * 9900) + 100;
                num2 = Math.floor(Math.random() * 9900) + 100;
                
                // Occasionally make them equal (10% chance)
                if (Math.random() < 0.1) {
                    num2 = num1;
                }
                
                num1Element.textContent = num1.toLocaleString();
                num2Element.textContent = num2.toLocaleString();
            }
        }

        // Section 2: Digit Builder Game
        function initializeSection1() {
            const buildLargestButton = document.getElementById('build-largest');
            const buildSmallestButton = document.getElementById('build-smallest');
            const digitContainer = document.getElementById('digit-container');
            const numberSlot = document.getElementById('number-slot');
            const checkButton = document.getElementById('check-number');
            const resetButton = document.getElementById('reset-digits');
            const feedback = document.getElementById('number-feedback');
            const givenDigitsElement = document.getElementById('given-digits');
            
            let digits = [];
            let targetMode = 'largest'; // 'largest' or 'smallest'
            let draggedDigit = null;
            
            // Initialize digits
            generateDigits();
            
            // Mode selection
            buildLargestButton.addEventListener('click', function() {
                targetMode = 'largest';
                buildLargestButton.classList.add('bg-blue-600', 'text-white');
                buildSmallestButton.classList.remove('bg-blue-600', 'text-white');
                buildSmallestButton.classList.add('bg-gray-200', 'text-gray-800');
                resetGame();
                playSound(dragSound);
            });
            
            buildSmallestButton.addEventListener('click', function() {
                targetMode = 'smallest';
                buildSmallestButton.classList.add('bg-blue-600', 'text-white');
                buildLargestButton.classList.remove('bg-blue-600', 'text-white');
                buildLargestButton.classList.add('bg-gray-200', 'text-gray-800');
                resetGame();
                playSound(dragSound);
            });
            
            // Check answer
            checkButton.addEventListener('click', function() {
                const currentNumber = Array.from(numberSlot.querySelectorAll('.digit'))
                    .map(d => d.textContent)
                    .join('');
                
                if (currentNumber.length !== digits.length) {
                    feedback.textContent = 'Please use all digits to form a number.';
                    feedback.className = 'text-red-600';
                    return;
                }
                
                const correctNumber = targetMode === 'largest' 
                    ? getLargestNumber(digits) 
                    : getSmallestNumber(digits);
                
                if (parseInt(currentNumber) === correctNumber) {
                    feedback.textContent = 'Correct! Well done.';
                    feedback.className = 'text-green-600';
                    playSound(successSound);
                    completedSections.add(1);
                    updateProgress();
                } else {
                    feedback.textContent = `Incorrect. The ${targetMode} number is ${correctNumber.toLocaleString()}.`;
                    feedback.className = 'text-red-600';
                    playSound(failureSound);
                }
            });
            
            // Reset game
            resetButton.addEventListener('click', resetGame);
            
            function generateDigits() {
                digits = [];
                const digitCount = 5; // Number of digits to use
                
                // Ensure we have at least one non-zero digit for the first position
                digits.push(Math.floor(Math.random() * 9) + 1);
                
                // Add remaining digits (can include zero)
                for (let i = 1; i < digitCount; i++) {
                    digits.push(Math.floor(Math.random() * 10));
                }
                
                // Shuffle the digits
                for (let i = digits.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [digits[i], digits[j]] = [digits[j], digits[i]];
                }
                
                givenDigitsElement.textContent = digits.join(', ');
                renderDigits();
            }
            
            function renderDigits() {
                digitContainer.innerHTML = '';
                numberSlot.innerHTML = '';
                
                digits.forEach(digit => {
                    const digitElement = document.createElement('div');
                    digitElement.className = 'digit text-3xl font-bold bg-blue-100 p-3 rounded-lg w-16 text-center';
                    digitElement.textContent = digit;
                    digitElement.draggable = true;
                    
                    digitElement.addEventListener('dragstart', function(e) {
                        draggedDigit = this;
                        this.classList.add('opacity-50');
                        playSound(dragSound);
                    });
                    
                    digitElement.addEventListener('dragend', function() {
                        this.classList.remove('opacity-50');
                    });
                    
                    digitContainer.appendChild(digitElement);
                });
                
                // Create empty slots for the number
                for (let i = 0; i < digits.length; i++) {
                    const slot = document.createElement('div');
                    slot.className = 'number-slot-digit w-16 h-16 border-2 border-dashed border-gray-300 rounded-lg';
                    slot.addEventListener('dragover', function(e) {
                        e.preventDefault();
                        this.classList.add('highlight');
                    });
                    
                    slot.addEventListener('dragleave', function() {
                        this.classList.remove('highlight');
                    });
                    
                    slot.addEventListener('drop', function(e) {
                        e.preventDefault();
                        this.classList.remove('highlight');
                        
                        if (draggedDigit && !this.hasChildNodes()) {
                            this.appendChild(draggedDigit);
                            playSound(snapSound);
                        }
                    });
                    
                    numberSlot.appendChild(slot);
                }
            }
            
            function resetGame() {
                generateDigits();
                feedback.textContent = '';
                playSound(dragSound);
            }
            
            function getLargestNumber(digits) {
                return parseInt([...digits].sort((a, b) => b - a).join(''));
            }
            
            function getSmallestNumber(digits) {
                // For smallest number, we need to ensure the first digit is not zero
                const nonZeroDigits = digits.filter(d => d !== 0);
                const zeroDigits = digits.filter(d => d === 0);
                
                if (nonZeroDigits.length === 0) return 0; // All digits are zero
                
                const smallestNonZero = Math.min(...nonZeroDigits);
                const remainingDigits = [...nonZeroDigits.filter(d => d !== smallestNonZero), ...zeroDigits].sort((a, b) => a - b);
                
                return parseInt([smallestNonZero, ...remainingDigits].join(''));
            }
        }

        // Section 3: Place Value Explorer
        function initializeSection2() {
            const numberElement = document.getElementById('explore-number');
            const indianButton = document.getElementById('indian-system');
            const internationalButton = document.getElementById('international-system');
            const headersElement = document.getElementById('place-value-headers');
            const digitsElement = document.getElementById('place-value-digits');
            const newButton = document.getElementById('new-place-value');
            
            let currentSystem = 'indian';
            let currentNumber = 5678903;
            
            // Initialize
            updateNumber();
            renderPlaceValueTable();
            
            // System selection
            indianButton.addEventListener('click', function() {
                currentSystem = 'indian';
                indianButton.classList.add('bg-blue-600', 'text-white');
                internationalButton.classList.remove('bg-blue-600', 'text-white');
                internationalButton.classList.add('bg-gray-200', 'text-gray-800');
                renderPlaceValueTable();
                playSound(dragSound);
            });
            
            internationalButton.addEventListener('click', function() {
                currentSystem = 'international';
                internationalButton.classList.add('bg-blue-600', 'text-white');
                indianButton.classList.remove('bg-blue-600', 'text-white');
                indianButton.classList.add('bg-gray-200', 'text-gray-800');
                renderPlaceValueTable();
                playSound(dragSound);
            });
            
            // New number
            newButton.addEventListener('click', function() {
                // Generate a random number between 10000 and 99999999
                currentNumber = Math.floor(Math.random() * 99900000) + 10000;
                updateNumber();
                renderPlaceValueTable();
                playSound(dragSound);
                completedSections.add(2);
                updateProgress();
            });
            
            function updateNumber() {
                if (currentSystem === 'indian') {
                    // Format with Indian numbering system (commas at thousands, lakhs, etc.)
                    numberElement.textContent = formatIndianNumber(currentNumber);
                } else {
                    // Format with International numbering system
                    numberElement.textContent = currentNumber.toLocaleString();
                }
            }
            
            function formatIndianNumber(num) {
                // Indian numbering system: 1,00,000 format
                let numStr = num.toString();
                let lastThree = numStr.substring(numStr.length - 3);
                let otherNumbers = numStr.substring(0, numStr.length - 3);
                
                if (otherNumbers !== '') {
                    lastThree = ',' + lastThree;
                }
                
                return otherNumbers.replace(/\B(?=(\d{2})+(?!\d))/g, ",") + lastThree;
            }
            
            function renderPlaceValueTable() {
                const numStr = currentNumber.toString();
                const digits = numStr.split('').map(Number);
                
                // Define place values based on system
                let placeValues;
                if (currentSystem === 'indian') {
                    placeValues = ['Units', 'Tens', 'Hundreds', 'Thousands', 'Ten Thousands', 'Lakhs', 'Ten Lakhs', 'Crores'];
                } else {
                    placeValues = ['Ones', 'Tens', 'Hundreds', 'Thousands', 'Ten Thousands', 'Hundred Thousands', 'Millions', 'Ten Millions'];
                }
                
                // Clear previous content
                headersElement.innerHTML = '';
                digitsElement.innerHTML = '';
                
                // We need to display the digits from right to left (units first)
                // So we reverse the digits array for display
                const reversedDigits = [...digits].reverse();
                
                // Create headers (from right to left)
                for (let i = 0; i < reversedDigits.length; i++) {
                    const th = document.createElement('th');
                    th.textContent = placeValues[i] || '---';
                    th.className = 'p-2 bg-gray-100';
                    headersElement.appendChild(th);
                }
                
                // Create digits row (from right to left)
                for (let i = 0; i < reversedDigits.length; i++) {
                    const td = document.createElement('td');
                    td.textContent = reversedDigits[i];
                    td.className = 'p-2';
                    
                    // Add click event to highlight place value
                    td.addEventListener('click', function() {
                        // Remove active class from all cells
                        digitsElement.querySelectorAll('td').forEach(cell => {
                            cell.classList.remove('active');
                        });
                        
                        // Add active class to clicked cell
                        this.classList.add('active');
                        
                        // Show the place value name
                        const placeValueName = placeValues[i] || 'Unknown';
                        playSound(snapSound);
                    });
                    
                    digitsElement.appendChild(td);
                }
            }
        }

        // Section 4: Estimation Rounder
        function initializeSection3() {
            const numberElement = document.getElementById('round-number');
            const roundingOptions = document.querySelectorAll('.rounding-option');
            const roundedValueElement = document.getElementById('rounded-value');
            const newButton = document.getElementById('new-rounding');
            
            let currentNumber = 48739;
            let currentRounding = 10;
            
            // Initialize
            updateNumber();
            updateRoundedValue();
            
            // Rounding option selection
            roundingOptions.forEach(option => {
                option.addEventListener('click', function() {
                    roundingOptions.forEach(o => {
                        o.classList.remove('bg-blue-600', 'text-white');
                        o.classList.add('bg-gray-200', 'text-gray-800');
                    });
                    
                    this.classList.add('bg-blue-600', 'text-white');
                    currentRounding = parseInt(this.getAttribute('data-round'));
                    updateRoundedValue();
                    playSound(snapSound);
                });
            });
            
            // Set initial selected option
            roundingOptions[0].classList.add('bg-blue-600', 'text-white');
            
            // New number
            newButton.addEventListener('click', function() {
                // Generate a random number between 1000 and 99999
                currentNumber = Math.floor(Math.random() * 99000) + 1000;
                updateNumber();
                updateRoundedValue();
                playSound(dragSound);
                completedSections.add(3);
                updateProgress();
            });
            
            function updateNumber() {
                numberElement.textContent = currentNumber.toLocaleString();
            }
            
            function updateRoundedValue() {
                let rounded;
                
                if (currentRounding === 10) {
                    rounded = Math.round(currentNumber / 10) * 10;
                } else if (currentRounding === 100) {
                    rounded = Math.round(currentNumber / 100) * 100;
                } else if (currentRounding === 1000) {
                    rounded = Math.round(currentNumber / 1000) * 1000;
                }
                
                roundedValueElement.textContent = rounded.toLocaleString();
            }
        }

        // Section 5: Real Life Numbers
        function initializeSection4() {
            const questionElement = document.getElementById('real-life-question');
            const item1Element = document.getElementById('real-life-item1');
            const item2Element = document.getElementById('real-life-item2');
            const num1Element = document.getElementById('real-life-num1');
            const num2Element = document.getElementById('real-life-num2');
            const unit1Element = document.getElementById('real-life-unit1');
            const unit2Element = document.getElementById('real-life-unit2');
            const options = document.querySelectorAll('.real-life-option');
            const checkButton = document.getElementById('check-real-life');
            const newButton = document.getElementById('new-real-life');
            const feedback = document.getElementById('real-life-feedback');
            
            let num1, num2;
            let selectedOption = null;
            let correctAnswer;
            let currentComparison = {};
            
            // Initialize numbers
            generateRealLifeNumbers();
            
            // Option selection
            options.forEach(option => {
                option.addEventListener('click', function() {
                    options.forEach(o => o.classList.remove('bg-blue-600', 'text-white'));
                    this.classList.add('bg-blue-600', 'text-white');
                    selectedOption = this.getAttribute('data-option');
                    playSound(dragSound);
                });
            });
            
            // Check answer
            checkButton.addEventListener('click', function() {
                if (!selectedOption) {
                    feedback.textContent = 'Please select an option.';
                    feedback.className = 'text-red-600';
                    return;
                }
                
                if (parseInt(selectedOption) === correctAnswer) {
                    feedback.textContent = 'Correct! Well done.';
                    feedback.className = 'text-green-600';
                    playSound(successSound);
                    completedSections.add(4);
                    updateProgress();
                } else {
                    feedback.textContent = 'Incorrect. Try again!';
                    feedback.className = 'text-red-600';
                    playSound(failureSound);
                }
            });
            
            // New comparison
            newButton.addEventListener('click', function() {
                generateRealLifeNumbers();
                options.forEach(o => o.classList.remove('bg-blue-600', 'text-white'));
                selectedOption = null;
                feedback.textContent = '';
                playSound(dragSound);
            });
            
            function generateRealLifeNumbers() {
                // Real-life data examples
                const data = [
                    { 
                        item1: "Mumbai Population", 
                        value1: 21400000, 
                        item2: "Delhi Population", 
                        value2: 19000000,
                        unit: "people",
                        question: "Which city has a larger population?"
                    },
                    { 
                        item1: "Earth to Moon Distance", 
                        value1: 384400, 
                        item2: "Earth to Mars Distance", 
                        value2: 225000000,
                        unit: "km",
                        question: "Which distance is greater?"
                    },
                    { 
                        item1: "Indian Budget", 
                        value1: 3900000, 
                        item2: "US Budget", 
                        value2: 6000000,
                        unit: "million USD",
                        question: "Which budget is larger?"
                    },
                    { 
                        item1: "Amazon River Length", 
                        value1: 6400, 
                        item2: "Nile River Length", 
                        value2: 6650,
                        unit: "km",
                        question: "Which river is longer?"
                    },
                    { 
                        item1: "World Population", 
                        value1: 8000000000, 
                        item2: "Internet Users", 
                        value2: 5000000000,
                        unit: "people",
                        question: "Which number is larger?"
                    }
                ];
                
                const randomData = data[Math.floor(Math.random() * data.length)];
                currentComparison = randomData;
                
                num1 = randomData.value1;
                num2 = randomData.value2;
                
                // Randomly swap which is displayed first
                if (Math.random() > 0.5) {
                    [num1, num2] = [num2, num1];
                    [randomData.item1, randomData.item2] = [randomData.item2, randomData.item1];
                }
                
                // Update the question and items
                questionElement.textContent = randomData.question;
                item1Element.textContent = randomData.item1;
                item2Element.textContent = randomData.item2;
                unit1Element.textContent = randomData.unit;
                unit2Element.textContent = randomData.unit;
                
                num1Element.textContent = formatIndianNumber(num1);
                num2Element.textContent = formatIndianNumber(num2);
                
                // Update option buttons
                options[0].textContent = randomData.item1;
                options[1].textContent = randomData.item2;
                
                // Determine correct answer
                correctAnswer = num1 > num2 ? 1 : 2;
            }
            
            function formatIndianNumber(num) {
                if (num < 100000) return num.toLocaleString();
                
                // For larger numbers, use Indian numbering system
                if (num >= 10000000) {
                    return (num / 10000000).toFixed(1) + ' Crore';
                } else if (num >= 100000) {
                    return (num / 100000).toFixed(1) + ' Lakh';
                }
                
                return num.toLocaleString();
            }
        }

        // Section 6: Operation Machine
        function initializeSection5() {
            const operand1 = document.getElementById('operand1');
            const operand2 = document.getElementById('operand2');
            const operationSymbol = document.getElementById('operation-symbol');
            const resultElement = document.getElementById('operation-result');
            const operationButtons = document.querySelectorAll('.operation-btn');
            const calculateButton = document.getElementById('calculate-operation');
            const newButton = document.getElementById('new-operation');
            const feedback = document.getElementById('operation-feedback');
            const calculationSteps = document.getElementById('calculation-steps');
            const stepsContent = document.getElementById('steps-content');
            
            let currentOperation = '+';
            
            // Initialize
            generateNumbers();
            
            // Operation selection
            operationButtons.forEach(button => {
                button.addEventListener('click', function() {
                    operationButtons.forEach(b => {
                        b.classList.remove('bg-blue-600', 'text-white');
                        b.classList.add('bg-gray-200', 'text-gray-800');
                    });
                    
                    this.classList.add('bg-blue-600', 'text-white');
                    currentOperation = this.getAttribute('data-operation');
                    operationSymbol.textContent = currentOperation;
                    calculationSteps.classList.add('hidden');
                    playSound(machineSound);
                });
            });
            
            // Set initial selected operation
            operationButtons[0].classList.add('bg-blue-600', 'text-white');
            
            // Calculate
            calculateButton.addEventListener('click', function() {
                const num1 = parseInt(operand1.value);
                const num2 = parseInt(operand2.value);
                
                if (isNaN(num1) || isNaN(num2)) {
                    feedback.textContent = 'Please enter valid numbers.';
                    feedback.className = 'text-red-600';
                    return;
                }
                
                let correctAnswer;
                let steps = [];
                
                switch (currentOperation) {
                    case '+': 
                        correctAnswer = num1 + num2; 
                        steps.push(`${num1} + ${num2} = ${correctAnswer}`);
                        break;
                    case '-': 
                        correctAnswer = num1 - num2; 
                        steps.push(`${num1} - ${num2} = ${correctAnswer}`);
                        break;
                    case '×': 
                        correctAnswer = num1 * num2; 
                        steps.push(`${num1} × ${num2} = ${correctAnswer}`);
                        break;
                    case '÷': 
                        correctAnswer = Math.round((num1 / num2) * 100) / 100; 
                        steps.push(`${num1} ÷ ${num2} = ${correctAnswer}`);
                        break;
                }
                
                // Show the result
                resultElement.textContent = correctAnswer.toLocaleString();
                
                // Show calculation steps
                stepsContent.innerHTML = steps.map(step => `<p>${step}</p>`).join('');
                calculationSteps.classList.remove('hidden');
                
                feedback.textContent = `The answer is ${correctAnswer.toLocaleString()}`;
                feedback.className = 'text-green-600';
                playSound(successSound);
                completedSections.add(5);
                updateProgress();
            });
            
            // New numbers
            newButton.addEventListener('click', function() {
                generateNumbers();
                resultElement.textContent = '?';
                calculationSteps.classList.add('hidden');
                feedback.textContent = '';
                playSound(machineSound);
            });
            
            function generateNumbers() {
                // Generate appropriate numbers based on operation
                let num1, num2;
                
                switch (currentOperation) {
                    case '+':
                        num1 = Math.floor(Math.random() * 10000) + 1000;
                        num2 = Math.floor(Math.random() * 10000) + 1000;
                        break;
                    case '-':
                        num1 = Math.floor(Math.random() * 10000) + 1000;
                        num2 = Math.floor(Math.random() * num1) + 1;
                        break;
                    case '×':
                        num1 = Math.floor(Math.random() * 100) + 10;
                        num2 = Math.floor(Math.random() * 100) + 10;
                        break;
                    case '÷':
                        num2 = Math.floor(Math.random() * 20) + 5;
                        num1 = num2 * (Math.floor(Math.random() * 20) + 5);
                        break;
                }
                
                operand1.value = num1;
                operand2.value = num2;
            }
        }

        // Section 7: Chapter Quiz
        function initializeSection6() {
            const quizOptions = document.querySelectorAll('.quiz-option');
            const submitButton = document.getElementById('submit-quiz');
            const resetButton = document.getElementById('reset-quiz');
            const feedback = document.getElementById('quiz-feedback');
            
            let userAnswers = {};
            const correctAnswers = {
                1: 'A',
                2: 'A',
                3: 'B',
                4: 'B'
            };
            
            const questionTexts = {
                1: "Which symbol correctly compares 5,432 and 5,423?",
                2: "What is the largest number you can form using digits 3, 7, 0, 9 without repetition?",
                3: "In the number 78,45,632, what is the place value of 4?",
                4: "Round 6,487 to the nearest hundred."
            };
            
            const optionTexts = {
                1: {
                    'A': '5,432 > 5,423',
                    'B': '5,432 < 5,423',
                    'C': '5,432 = 5,423'
                },
                2: {
                    'A': '9,730',
                    'B': '9,073',
                    'C': '9,703'
                },
                3: {
                    'A': 'Ten Thousands',
                    'B': 'Lakhs',
                    'C': 'Thousands'
                },
                4: {
                    'A': '6,400',
                    'B': '6,500',
                    'C': '6,000'
                }
            };
            
            // Option selection
            quizOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const questionNum = this.closest('.mb-6').querySelector('p').textContent.split('.')[0];
                    userAnswers[questionNum] = this.getAttribute('data-option');
                    
                    // Remove selected class from siblings
                    const siblings = this.parentElement.querySelectorAll('.quiz-option');
                    siblings.forEach(s => s.classList.remove('bg-blue-600', 'text-white'));
                    
                    // Add selected class to clicked option
                    this.classList.add('bg-blue-600', 'text-white');
                    playSound(dragSound);
                });
            });
            
            // Submit quiz
            submitButton.addEventListener('click', function() {
                const totalQuestions = Object.keys(correctAnswers).length;
                const answeredQuestions = Object.keys(userAnswers).length;
                
                if (answeredQuestions < totalQuestions) {
                    feedback.textContent = `Please answer all ${totalQuestions} questions.`;
                    feedback.className = 'text-red-600';
                    return;
                }
                
                let score = 0;
                for (const [question, correctAnswer] of Object.entries(correctAnswers)) {
                    const resultElement = document.getElementById(`quiz-result-${question}`);
                    const userAnswer = userAnswers[question];
                    
                    if (userAnswer === correctAnswer) {
                        score++;
                        resultElement.innerHTML = `<i class="fas fa-check text-green-500 mr-2"></i> Correct! Your answer "${optionTexts[question][userAnswer]}" is right.`;
                        resultElement.className = 'quiz-result correct mt-2';
                        
                        // Highlight the correct answer
                        const correctOption = document.querySelector(`#quiz-container .mb-6:nth-child(${question}) .quiz-option[data-option="${correctAnswer}"]`);
                        correctOption.classList.add('correct-answer');
                    } else {
                        resultElement.innerHTML = `<i class="fas fa-times text-red-500 mr-2"></i> Incorrect. Your answer "${optionTexts[question][userAnswer]}" is wrong. The correct answer is "${optionTexts[question][correctAnswer]}".`;
                        resultElement.className = 'quiz-result incorrect mt-2';
                        
                        // Highlight the correct and incorrect answers
                        const userOption = document.querySelector(`#quiz-container .mb-6:nth-child(${question}) .quiz-option[data-option="${userAnswer}"]`);
                        const correctOption = document.querySelector(`#quiz-container .mb-6:nth-child(${question}) .quiz-option[data-option="${correctAnswer}"]`);
                        
                        userOption.classList.add('incorrect-answer');
                        correctOption.classList.add('correct-answer');
                    }
                    
                    resultElement.classList.remove('hidden');
                }
                
                if (score === totalQuestions) {
                    feedback.innerHTML = `Perfect! You scored ${score}/${totalQuestions}. <i class="fas fa-trophy text-yellow-500 ml-2"></i>`;
                    feedback.className = 'text-green-600';
                    playSound(applauseSound);
                    completedSections.add(6);
                    updateProgress();
                } else {
                    feedback.textContent = `You scored ${score}/${totalQuestions}. Try again to improve!`;
                    feedback.className = 'text-red-600';
                    playSound(failureSound);
                }
                
                submitButton.disabled = true;
            });
            
            // Reset quiz
            resetButton.addEventListener('click', function() {
                userAnswers = {};
                
                // Reset all options
                quizOptions.forEach(option => {
                    option.classList.remove('bg-blue-600', 'text-white', 'correct-answer', 'incorrect-answer');
                    option.classList.add('bg-gray-200', 'text-gray-800');
                });
                
                // Hide all result messages
                for (let i = 1; i <= 4; i++) {
                    document.getElementById(`quiz-result-${i}`).classList.add('hidden');
                }
                
                feedback.textContent = '';
                submitButton.disabled = false;
                playSound(dragSound);
            });
        }
    </script>
</body>
</html>
